<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Address Parsing Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-case { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .result { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>Address Parsing Test</h1>
    <div id="results"></div>

    <script>
        function parseAddress(address) {
            const parts = address.split(', ');
            if (parts.length >= 4) {
                const street = parts[0];
                const city = parts[1];
                const stateZip = parts[2];
                const country = parts[3];
                
                let state = '';
                let zip = '';
                
                // Pattern 1: "NY 10001" format
                const stateZipMatch1 = stateZip.match(/^([A-Z]{2})\s+(\d{5}(?:-\d{4})?)$/);
                if (stateZipMatch1) {
                    state = stateZipMatch1[1];
                    zip = stateZipMatch1[2];
                } else {
                    // Pattern 2: "New York 10001" format
                    const stateZipMatch2 = stateZip.match(/^(.+?)\s+(\d{5}(?:-\d{4})?)$/);
                    if (stateZipMatch2) {
                        state = stateZipMatch2[1];
                        zip = stateZipMatch2[2];
                    } else {
                        // Pattern 3: Just ZIP code
                        const zipMatch = stateZip.match(/(\d{5}(?:-\d{4})?)/);
                        if (zipMatch) {
                            zip = zipMatch[1];
                            state = stateZip.replace(zip, '').trim();
                        } else {
                            state = stateZip;
                        }
                    }
                }
                
                return {
                    street,
                    city,
                    state,
                    zip,
                    country,
                    fullAddress: address
                };
            }
            return {
                street: address,
                city: '',
                state: '',
                zip: '',
                country: '',
                fullAddress: address
            };
        }

        const testAddresses = [
            "Hudson Boulevard West, New York, New York 10018, United States",
            "708 7th Avenue, New York, New York 10036, United States",
            "300 West 23rd Street, New York, New York 10011, United States",
            "400 11th Avenue, New York, New York 10001, United States",
            "525 West 28th Street, New York, New York 10001, United States"
        ];

        const resultsDiv = document.getElementById('results');
        
        testAddresses.forEach((address, index) => {
            const parsed = parseAddress(address);
            const testCase = document.createElement('div');
            testCase.className = 'test-case';
            testCase.innerHTML = `
                <h3>Test Case ${index + 1}</h3>
                <div class="result">
                    <strong>Original:</strong> ${address}
                </div>
                <div class="result">
                    <strong>Street:</strong> ${parsed.street}<br>
                    <strong>City:</strong> ${parsed.city}<br>
                    <strong>State:</strong> ${parsed.state}<br>
                    <strong>ZIP:</strong> ${parsed.zip}<br>
                    <strong>Country:</strong> ${parsed.country}
                </div>
            `;
            resultsDiv.appendChild(testCase);
        });
    </script>
</body>
</html>
